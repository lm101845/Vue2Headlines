# 黑马头条-移动端

# 门户

## 查询所有已实现接口

### 基本信息

**Path：** /app/

**Method：** GET

**接口描述：**

线上接口地址 <http://ttapi.research.itcast.cn/app/>

返回已上线接口地址，形如：

```json
{
    "route_map":"/",
    "static":"/static/<path:filename>",
    "user.smsverificationcode":"/v1_0/sms/codes/<mobile:mobile>"
 }
```

键为接口名称
值为接口路径

### 请求参数

# 通知

## 获取系统公告内容

### 基本信息

**Path：** /app/v1_0/announcements/:target

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/announcements/:target
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**路径参数**

| 参数名称 | 示例 | 备注   |
| -------- | ---- | ------ |
| target   |      | 公告id |

### 返回数据

| 名称       | 类型    | 是否必须 | 默认值 | 备注     | 其他信息 |
| ---------- | ------- | -------- | ------ | -------- | -------- |
| message    | string  | 必须     |        | 提示信息 |          |
| data       | object  | 非必须   |        |          |          |
| ├─ id      | integer | 必须     |        | 公告id   |          |
| ├─ title   | string  | 必须     |        | 标题     |          |
| ├─ content | string  | 必须     |        | 内容     |          |
| ├─ pubdate | string  | 必须     |        | 发布时间 |          |

## 获取系统公告列表



### 基本信息

**Path：** /app/v1_0/announcements

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/announcements
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                             |
| -------- | -------- | ---- | -------------------------------- |
| page     | 否       |      | 页数，不传默认为1                |
| per_page | 否       |      | 每页数量，不传每页数量由后端决定 |

### 返回数据

| 名称           | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| -------------- | --------- | -------- | ------ | -------- | ----------------- |
| message        | string    | 必须     |        | 提示信息 |                   |
| data           | object    | 非必须   |        |          |                   |
| ├─ page        | integer   | 必须     |        | 当前页数 |                   |
| ├─ per_page    | integer   | 必须     |        | 每页数量 |                   |
| ├─ results     | object [] | 必须     |        |          | item 类型: object |
| ├─ title       | string    | 必须     |        | 标题     |                   |
| ├─ id          | integer   | 必须     |        | 公告id   |                   |
| ├─ pubdate     | string    | 必须     |        | 发布时间 |                   |
| ├─ total_count | integer   | 必须     |        | 公告总数 |                   |

# 搜索



## 删除用户搜索历史

### 基本信息

**Path：** /app/v1_0/search/histories

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/search/histories
```



### 2 返回状态码

- 507 数据库错误
- 401 用户认证失败
- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**

### 

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注      |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |           |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户Token |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 获取搜索结果



### 基本信息

**Path：** /app/v1_0/search

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/search
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数错误
- 401 若传递token，但token过期，则返回401
- **200 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例 | 备注              |
| ------------- | ---------------- | -------- | ---- | ----------------- |
| Content-Type  | application/json | 是       |      |                   |
| Authorization |                  | 是       |      | 身份token，非必须 |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                             |
| -------- | -------- | ---- | -------------------------------- |
| page     | 否       |      | 页数，不传默认为1                |
| per_page | 否       |      | 每页数量，不传每页数量由后端决定 |
| q        | 是       |      | 搜索关键词                       |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ---------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message          | string    | 必须     |        | 提示信息                                     |                   |
| data             | object    | 非必须   |        |                                              |                   |
| ├─ page          | integer   | 必须     |        | 当前页数                                     |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量                                     |                   |
| ├─ results       | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id        | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title         | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id        | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name      | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count    | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate       | string    | 必须     |        | 发布时间                                     |                   |
| ├─ cover         | object    | 必须     |        | 封面                                         |                   |
| ├─ type          | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images        | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ like_count    | integer   | 必须     |        | 点赞数                                       |                   |
| ├─ collect_count | integer   | 必须     |        | 收藏数                                       |                   |
| ├─ total_count   | integer   | 必须     |        | 文章总数                                     |                   |

## 获取用户搜索历史



### 基本信息

**Path：** /app/v1_0/search/histories

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/search/histories
```



### 2 返回状态码

- 507 数据库错误
- 401 用户认证失败
- **200 OK**

### 

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户Token |

### 返回数据

| 名称        | 类型      | 是否必须 | 默认值 | 备注       | 其他信息          |
| ----------- | --------- | -------- | ------ | ---------- | ----------------- |
| message     | string    | 必须     |        | 提示信息   |                   |
| data        | object    | 非必须   |        |            |                   |
| ├─ keywords | string [] | 非必须   |        | 搜索关键词 | item 类型: string |

## 获取联想建议（自动补全）



### 基本信息

**Path：** /app/v1_0/suggestion

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/suggestion
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数有误
- **200 OK**

### 

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注           |
| -------- | -------- | ---- | -------------- |
| q        | 是       |      | 请求的前缀词句 |

### 返回数据

| 名称       | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| ---------- | --------- | -------- | ------ | -------- | ----------------- |
| message    | string    | 必须     |        | 提示信息 |                   |
| data       | object    | 非必须   |        |          |                   |
| ├─ options | string [] | 非必须   |        | 选项词条 | item 类型: string |

# IM通讯



## 在线消息通知



### 基本信息

**Path：** /app/socket.io/

**Method：** GET

**接口描述：**

### 1. 此接口为 socket.io 通讯 ， 非HTTP协议， 须使用socket.io客户端，请忽略请求方式

### 2. 接口路径（重要）

```http
http://ttapi.research.itcast.cn
```



##### 

### 3. 用户token与匿名id必传其一，身份错误会拒绝连接

### 4. 接收事件(event)

##### `"following notify"` 关注通知

*返回字段 user_id， user_name， user_photo， timestamp*

##### `"liking notify"` 点赞通知

*返回字段 user_id， user_name， user_photo， art_id, art_title, timestamp*

##### `"comment notify"` 评论通知

*返回字段 user_id， user_name， user_photo， art_id, art_title, timestamp*

### 请求参数

**Query**

| 参数名称 | 是否必须 | 示例                                                         | 备注                                                    |
| -------- | -------- | ------------------------------------------------------------ | ------------------------------------------------------- |
| token    | 否       | eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token token与匿名id必传其一 （不用包含Bearer 前缀） |
| a        | 否       |                                                              | 匿名id                                                  |

**Body**

| 名称      | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| --------- | ------- | -------- | ------ | -------------- | -------- |
| msg       | string  | 必须     |        | 聊天输入内容   |          |
| timestamp | integer | 必须     |        | 聊天发送时间戳 |          |

### 返回数据

| 名称       | 类型    | 是否必须 | 默认值 | 备注             | 其他信息 |
| ---------- | ------- | -------- | ------ | ---------------- | -------- |
| user_id    | integer | 必须     |        | 执行操作的用户id |          |
| user_name  | string  | 必须     |        | 用户名           |          |
| user_photo | string  | 必须     |        | 用户头像         |          |
| art_id     | integer | 非必须   |        | 文章id           |          |
| art_title  | string  | 非必须   |        | 文章标题         |          |
| timestamp  | integer | 必须     |        | 回复时间戳       |          |

## 在线通知测试接口



### 基本信息

**Path：** /app/imtest/:event

**Method：** GET

**接口描述：**

### liking notify 点赞通知

```http
http://ttapi.research.itcast.cn/app/imtest/l
```

### comment notify 评论通知

```http
http://ttapi.research.itcast.cn/app/imtest/c
```

### following notify 关注通知

```http
http://ttapi.research.itcast.cn/app/imtest/f
```

### 请求参数

**路径参数**

| 参数名称 | 示例           | 备注     |
| -------- | -------------- | -------- |
| event    | f 或 l 或 c 或 | 通知事件 |

## 聊天机器人



### 基本信息

**Path：** /app/socket.io/

**Method：** POST

**接口描述：**

### 1. 此接口为 socket.io 通讯 ， 非HTTP协议， 须使用socket.io客户端，请忽略请求方式

### 2. 接口路径（重要）

```http
http://ttapi.research.itcast.cn
```



### 3. token与匿名id必传其一，身份错误会拒绝连接

### 4. 发送与接收消息的事件(event) 均为`message`

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**Query**

| 参数名称 | 是否必须 | 示例                                                         | 备注                                                      |
| -------- | -------- | ------------------------------------------------------------ | --------------------------------------------------------- |
| token    | 否       | eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token （token与匿名id必传其中之一）不用包含Bearer前缀 |
| a        | 否       |                                                              | 匿名用户id                                                |

**Body**

| 名称      | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| --------- | ------- | -------- | ------ | -------------- | -------- |
| msg       | string  | 必须     |        | 聊天输入内容   |          |
| timestamp | integer | 必须     |        | 聊天发送时间戳 |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| --------- | ------- | -------- | ------ | -------------- | -------- |
| msg       | string  | 必须     |        | 机器人回复内容 |          |
| timestamp | integer | 必须     |        | 回复时间戳     |          |

# 用户



## 编辑用户个人资料（包含实名认证）



### 基本信息

**Path：** /app/v1_0/user/profile

**Method：** PATCH

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/profile
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误, 图片保存失败
- **200 OK**

### 3 请求的字段参数 发送几个保存几个，不发送的不修改

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称             | 类型    | 是否必须 | 默认值 | 备注                          | 其他信息 |
| ---------------- | ------- | -------- | ------ | ----------------------------- | -------- |
| name             | string  | 非必须   |        | 昵称                          |          |
| photo            | string  | 非必须   |        | 头像 base64编码处理           |          |
| gender           | integer | 非必须   |        | 性别，0-男，1-女              |          |
| birthday         | string  | 非必须   |        | 生日，格式'2018-12-20'        |          |
| real_name        | string  | 非必须   |        | 真实姓名                      |          |
| id_number        | string  | 非必须   |        | 身份证号                      |          |
| id_card_front    | string  | 非必须   |        | 身份证正面照片 base64编码处理 |          |
| id_card_back     | string  | 非必须   |        | 身份证背面照片 base64编码处理 |          |
| id_card_handheld | string  | 非必须   |        | 手持身份证照片 base64编码处理 |          |
| intro            | string  | 非必须   |        | 个人介绍                      |          |

### 返回数据

| 名称                | 类型    | 是否必须 | 默认值 | 备注                    | 其他信息 |
| ------------------- | ------- | -------- | ------ | ----------------------- | -------- |
| message             | string  | 必须     |        | 提示信息                |          |
| data                | object  | 非必须   |        |                         |          |
| ├─ id               | integer | 必须     |        | 用户id                  |          |
| ├─ name             | string  | 非必须   |        | 用户名                  |          |
| ├─ photo            | string  | 非必须   |        | 头像url地址             |          |
| ├─ gender           | integer | 非必须   |        | 性别，0-男，1-女        |          |
| ├─ birthday         | string  | 非必须   |        | 生日，格式 '2018-12-20' |          |
| ├─ real_name        | string  | 非必须   |        | 真实用户名              |          |
| ├─ id_number        | string  | 非必须   |        | 身份证号                |          |
| ├─ id_card_front    | string  | 非必须   |        | 身份证正面照片url       |          |
| ├─ id_card_back     | string  | 非必须   |        | 身份证背面照片url       |          |
| ├─ id_card_handheld | string  | 非必须   |        | 手持身份证照片url       |          |
| ├─ intro            | string  | 非必须   |        | 个人介绍                |          |

## 修改指定用户频道



### 基本信息

**Path：** /app/v1_0/user/channels/:target

**Method：** PUT

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels/:target
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 3 本接口仅修改对应用户频道的顺序。

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**路径参数**

| 参数名称 | 示例 | 备注   |
| -------- | ---- | ------ |
| target   |      | 频道id |

**Body**

| 名称 | 类型    | 是否必须 | 默认值 | 备注     | 其他信息 |
| ---- | ------- | -------- | ------ | -------- | -------- |
| seq  | integer | 必须     |        | 顺序序号 |          |

### 返回数据

| 名称    | 类型    | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------- | -------- | ------ | -------- | -------- |
| message | string  | 必须     |        | 提示信息 |          |
| data    | object  | 非必须   |        |          |          |
| ├─ id   | integer | 必须     |        | 频道id   |          |
| ├─ seq  | integer | 必须     |        | 顺序序号 |          |

## 删除指定用户频道



### 基本信息

**Path：** /app/v1_0/user/channels/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels/:target
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **204 删除成功 ，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**

### 3 本接口仅删除对应用户频道的顺序。

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**路径参数**

| 参数名称 | 示例 | 备注       |
| -------- | ---- | ---------- |
| target   |      | 用户频道id |

**Body**

| 名称 | 类型 | 是否必须 | 默认值 | 备注 | 其他信息 |
| ---- | ---- | -------- | ------ | ---- | -------- |
|      |      |          |        |      |          |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 刷新用户token



### 基本信息

**Path：** /app/v1_0/authorizations

**Method：** PUT

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/authorizations
```



### 2 返回状态码

- 400 请求参数错误
- 403  refresh_token 未携带或已过期
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | refresh_token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称     | 类型   | 是否必须 | 默认值 | 备注      | 其他信息 |
| -------- | ------ | -------- | ------ | --------- | -------- |
| message  | string | 必须     |        | 提示信息  |          |
| data     | object | 非必须   |        |           |          |
| ├─ token | string | 必须     |        | 用户token |          |

## 取消关注用户



### 基本信息

**Path：** /app/v1_0/user/followings/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/followings/:target
```



### 2 返回状态码

- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**
- 401 用户未认证
- 404 访问路径错误
- 507 数据库异常

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**路径参数**

| 参数名称 | 示例 | 备注                           |
| -------- | ---- | ------------------------------ |
| target   |      | 目标用户（被取消关注的用户id） |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 取消拉黑用户



### 基本信息

**Path：** /app/v1_0/user/blacklists/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/blacklists/:target
```



### 2 返回状态码

- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**
- 401 用户未认证
- 404 访问路径错误
- 507 数据库异常

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**路径参数**

| 参数名称 | 示例 | 备注           |
| -------- | ---- | -------------- |
| target   |      | 被拉黑的用户id |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 批量修改用户频道列表（部分覆盖）



### 基本信息

**Path：** /app/v1_0/user/channels

**Method：** PATCH

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 3 本接口对收到的用户频道 新增的保存，原有的覆盖顺序序号，但不会删除未涉及到的用户频道。

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称     | 类型      | 是否必须 | 默认值 | 备注               | 其他信息          |
| -------- | --------- | -------- | ------ | ------------------ | ----------------- |
| channels | object [] | 必须     |        | 用户关注的频道列表 | item 类型: object |
| ├─ id    | integer   | 必须     |        | 频道id             |                   |
| ├─ seq   | integer   | 必须     |        | 顺序序号           |                   |

### 返回数据

| 名称        | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| ----------- | --------- | -------- | ------ | -------- | ----------------- |
| message     | string    | 必须     |        | 提示信息 |                   |
| data        | object    | 非必须   |        |          |                   |
| ├─ channels | object [] | 必须     |        |          | item 类型: object |
| ├─ id       | integer   | 必须     |        | 频道id   |                   |
| ├─ seq      | integer   | 必须     |        | 顺序序号 |                   |

## 批量修改用户频道列表（重置式）



### 基本信息

**Path：** /app/v1_0/user/channels

**Method：** PUT

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 3 本接口会先删除用户原有的关注频道，再重新保存用户频道，最终保存的用户频道仅为此接口收到的数据。可作为用户编辑频道时一次做了多个频道的顺序修改、新增、删除等行为的接口。也可作为用户初始频道设置

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称     | 类型      | 是否必须 | 默认值 | 备注               | 其他信息          |
| -------- | --------- | -------- | ------ | ------------------ | ----------------- |
| channels | object [] | 必须     |        | 用户关注的频道列表 | item 类型: object |
| ├─ id    | integer   | 必须     |        | 频道id             |                   |
| ├─ seq   | integer   | 必须     |        | 顺序序号           |                   |

### 返回数据

| 名称        | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| ----------- | --------- | -------- | ------ | -------- | ----------------- |
| message     | string    | 必须     |        | 提示信息 |                   |
| data        | object    | 非必须   |        |          |                   |
| ├─ channels | object [] | 必须     |        |          | item 类型: object |
| ├─ id       | integer   | 必须     |        | 频道id   |                   |
| ├─ seq      | integer   | 必须     |        | 顺序序号 |                   |

## 批量删除用户频道列表



### 基本信息

**Path：** /app/v1_0/user/channels

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **204 删除成功 ，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称     | 类型       | 是否必须 | 默认值 | 备注               | 其他信息           |
| -------- | ---------- | -------- | ------ | ------------------ | ------------------ |
| channels | integer [] | 必须     |        | 用户关注的频道列表 | item 类型: integer |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 拉黑用户



### 基本信息

**Path：** /app/v1_0/user/blacklists

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/blacklists
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| --------- | ------- | -------- | ------ | -------------- | -------- |
| message   | string  | 必须     |        | 提示信息       |          |
| data      | object  | 非必须   |        |                |          |
| ├─ target | integer | 必须     |        | 被拉黑的用户id |          |

## 用户认证（登录注册）



### 基本信息

**Path：** /app/v1_0/authorizations

**Method：** POST

**接口描述：**

### 1. 线上地址

<http://ttapi.research.itcast.cn/app/v1_0/authorizations>

### 2.  返回HTTP状态码

**1. 201 OK**
\2. 400 请求参数错误
​        包括：参数缺失、手机号格式不正确、验证码失效等
\3. 507 服务器数据库异常

### 3. token说明

1. `token`用于访问需要身份认证的普通接口，有效期2小时
2. `refresh_token` 用于在token过期后，获取新的用户token，有效期14天

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**Body**

| 名称   | 类型   | 是否必须 | 默认值 | 备注       | 其他信息 |
| ------ | ------ | -------- | ------ | ---------- | -------- |
| mobile | string | 必须     |        | 手机号     |          |
| code   | string | 必须     |        | 短信验证码 |          |

### 返回数据

| 名称             | 类型   | 是否必须 | 默认值 | 备注                | 其他信息 |
| ---------------- | ------ | -------- | ------ | ------------------- | -------- |
| message          | string | 必须     |        | 提示信息            |          |
| data             | object | 非必须   |        | 数据                |          |
| ├─ token         | string | 必须     |        | 用户token令牌       |          |
| ├─ refresh_token | string | 必须     |        | 用于刷新token的令牌 |          |

## 关注用户



### 基本信息

**Path：** /app/v1_0/user/followings

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/followings
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| --------- | ------- | -------- | ------ | -------------- | -------- |
| message   | string  | 必须     |        | 提示信息       |          |
| data      | object  | 非必须   |        |                |          |
| ├─ target | integer | 必须     |        | 被关注的用户id |          |

## 编辑用户照片资料（头像、身份证照片）



### 基本信息

**Path：** /app/v1_0/user/photo

**Method：** PATCH

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/photo
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误, 图片保存失败
- **200 OK**

### 3 请求的字段参数 发送几个保存几个，不发送的不修改

### 请求参数

**Headers**

| 参数名称      | 参数值              | 是否必须 | 示例                                                         | 备注          |
| ------------- | ------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | multipart/form-data | 是       |                                                              |               |
| Authorization |                     | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 参数名称         | 参数类型 | 是否必须 | 示例 | 备注           |
| ---------------- | -------- | -------- | ---- | -------------- |
| photo            | file     | 否       |      | 头像           |
| id_card_front    | file     | 否       |      | 身份证正面照片 |
| id_card_back     | file     | 否       |      | 身份证背面照片 |
| id_card_handheld | file     | 否       |      | 手持身份证照片 |

### 返回数据

| 名称                | 类型    | 是否必须 | 默认值 | 备注              | 其他信息 |
| ------------------- | ------- | -------- | ------ | ----------------- | -------- |
| message             | string  | 必须     |        | 提示信息          |          |
| data                | object  | 非必须   |        |                   |          |
| ├─ id               | integer | 必须     |        | 用户id            |          |
| ├─ photo            | string  | 非必须   |        | 头像url地址       |          |
| ├─ id_card_front    | string  | 非必须   |        | 身份证正面照片url |          |
| ├─ id_card_back     | string  | 非必须   |        | 身份证背面照片url |          |
| ├─ id_card_handheld | string  | 非必须   |        | 手持身份证照片url |          |

## 获取指定用户信息



### 基本信息

**Path：** /app/v1_0/users/:target

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/users/:target
```



### 2 返回状态码

- 400 请求参数错误
- 507 数据库错误
- **200 OK**

### 3 不强制用户登录，匿名用户 关注状态默认否

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注                                                      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------------------------------------------------------- |
| Content-Type  | application/json | 是       |                                                              |                                                           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token，可选，登录用户会额外查询是否关了注目标用户 |

**路径参数**

| 参数名称 | 示例 | 备注       |
| -------- | ---- | ---------- |
| target   |      | 目标用户id |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称            | 类型    | 是否必须 | 默认值 | 备注                     | 其他信息 |
| --------------- | ------- | -------- | ------ | ------------------------ | -------- |
| message         | string  | 必须     |        | 提示信息                 |          |
| data            | object  | 非必须   |        |                          |          |
| ├─ id           | integer | 必须     |        | 用户id                   |          |
| ├─ name         | string  | 必须     |        | 用户名                   |          |
| ├─ photo        | string  | 必须     |        | 用户头像                 |          |
| ├─ is_media     | integer | 必须     |        | 是否是自媒体，0-否，1-是 |          |
| ├─ intro        | string  | 必须     |        | 简介                     |          |
| ├─ certi        | string  | 必须     |        | 自媒体认证说明           |          |
| ├─ art_count    | integer | 必须     |        | 发布文章数               |          |
| ├─ follow_count | integer | 必须     |        | 关注的数目               |          |
| ├─ fans_count   | integer | 必须     |        | 被关注的数目（粉丝数目） |          |
| ├─ like_count   | integer | 必须     |        | 被点赞数                 |          |
| ├─ is_following | boolean | 必须     |        | 是否关注了用户           |          |
| ├─ is_blacklist | boolean | 必须     |        | 是否拉黑了用户           |          |

## 获取用户个人资料



### 基本信息

**Path：** /app/v1_0/user/profile

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/profile
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **200 OK**

### 

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称        | 类型    | 是否必须 | 默认值 | 备注                    | 其他信息 |
| ----------- | ------- | -------- | ------ | ----------------------- | -------- |
| message     | string  | 必须     |        | 提示信息                |          |
| data        | object  | 非必须   |        |                         |          |
| ├─ id       | integer | 必须     |        | 用户id                  |          |
| ├─ name     | string  | 必须     |        | 用户名                  |          |
| ├─ photo    | string  | 必须     |        | 头像                    |          |
| ├─ mobile   | string  | 必须     |        | 手机号                  |          |
| ├─ gender   | integer | 必须     |        | 性别，0-男，1-女        |          |
| ├─ birthday | string  | 必须     |        | 生日，格式 '2018-12-20' |          |

## 获取用户的关注列表



### 基本信息

**Path：** /app/v1_0/user/followings

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/followings
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **200 OK**

### 

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注     |
| -------- | -------- | ---- | -------- |
| page     | 否       |      | 页数     |
| per_page | 否       |      | 每页数量 |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注               | 其他信息          |
| ---------------- | --------- | -------- | ------ | ------------------ | ----------------- |
| message          | string    | 必须     |        | 提示信息           |                   |
| data             | object    | 非必须   |        |                    |                   |
| ├─ total_count   | integer   | 必须     |        | 所有关注的用户总数 |                   |
| ├─ page          | integer   | 必须     |        | 当前页数           |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量           |                   |
| ├─ results       | object [] | 必须     |        | 关注的用户         | item 类型: object |
| ├─ id            | integer   | 必须     |        | 关注的用户id       |                   |
| ├─ name          | string    | 必须     |        | 关注的用户名       |                   |
| ├─ photo         | string    | 必须     |        | 头像               |                   |
| ├─ fans_count    | integer   | 必须     |        | 粉丝数             |                   |
| ├─ mutual_follow | boolean   | 必须     |        | 是否互相关注       |                   |

## 获取用户的粉丝列表



### 基本信息

**Path：** /app/v1_0/user/followers

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/followings
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **200 OK**

### 

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注     |
| -------- | -------- | ---- | -------- |
| page     | 否       |      | 页数     |
| per_page | 否       |      | 每页数量 |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注               | 其他信息          |
| ---------------- | --------- | -------- | ------ | ------------------ | ----------------- |
| message          | string    | 必须     |        | 提示信息           |                   |
| data             | object    | 非必须   |        |                    |                   |
| ├─ total_count   | integer   | 必须     |        | 所有粉丝的用户总数 |                   |
| ├─ page          | integer   | 必须     |        | 当前页数           |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量           |                   |
| ├─ results       | object [] | 必须     |        | 粉丝用户           | item 类型: object |
| ├─ id            | integer   | 必须     |        | 粉丝用户id         |                   |
| ├─ name          | string    | 必须     |        | 粉丝用户名         |                   |
| ├─ photo         | string    | 必须     |        | 头像               |                   |
| ├─ fans_count    | integer   | 必须     |        | 粉丝数             |                   |
| ├─ mutual_follow | boolean   | 必须     |        | 是否互相关注       |                   |

## 获取用户的统计数据



### 基本信息

**Path：** /app/v1_0/user/figure

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/figure
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **200 OK**

### 

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称          | 类型    | 是否必须 | 默认值 | 备注             | 其他信息 |
| ------------- | ------- | -------- | ------ | ---------------- | -------- |
| message       | string  | 必须     |        | 提示信息         |          |
| data          | object  | 非必须   |        |                  |          |
| ├─ fans_count | integer | 必须     |        | 粉丝数量         |          |
| ├─ read_count | integer | 必须     |        | 作品被阅读的数量 |          |

## 获取用户自己信息



### 基本信息

**Path：** /app/v1_0/user

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户认证失败
- 507 数据库错误
- **200 OK**

### 3 强制用户登录

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注                |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------------- |
| Content-Type  | application/json | 是       |                                                              |                     |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token，必传 |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                       | 其他信息 |
| ------ | ------- | -------- | ------ | -------------------------- | -------- |
| target | integer | 必须     |        | 关注目标（被关注的用户id） |          |

### 返回数据

| 名称            | 类型    | 是否必须 | 默认值 | 备注                     | 其他信息 |
| --------------- | ------- | -------- | ------ | ------------------------ | -------- |
| message         | string  | 必须     |        | 提示信息                 |          |
| data            | object  | 非必须   |        |                          |          |
| ├─ id           | integer | 必须     |        | 用户id                   |          |
| ├─ name         | string  | 必须     |        | 用户名                   |          |
| ├─ photo        | string  | 必须     |        | 用户头像                 |          |
| ├─ is_media     | integer | 必须     |        | 是否是自媒体，0-否，1-是 |          |
| ├─ intro        | string  | 必须     |        | 简介                     |          |
| ├─ certi        | string  | 必须     |        | 自媒体认证说明           |          |
| ├─ art_count    | integer | 必须     |        | 发布文章数               |          |
| ├─ follow_count | integer | 必须     |        | 关注的数目               |          |
| ├─ fans_count   | integer | 必须     |        | 被关注的数目（粉丝数目） |          |
| ├─ like_count   | integer | 必须     |        | 被点赞数                 |          |

## 获取用户频道列表



### 基本信息

**Path：** /app/v1_0/user/channels

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels
```



### 2 返回状态码

- 507 数据库错误
- **200 OK**

### 3 不强制用户登录，匿名用户返回后台设置的默认频道列表

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注                      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------------------- |
| Content-Type  | application/json | 是       |                                                              |                           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户Token，未登录用户为空 |

### 返回数据

| 名称        | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| ----------- | --------- | -------- | ------ | -------- | ----------------- |
| message     | string    | 必须     |        | 提示信息 |                   |
| data        | object    | 非必须   |        |          |                   |
| ├─ channels | object [] | 必须     |        | 频道列表 | item 类型: object |
| ├─ id       | integer   | 必须     |        | 频道ID   |                   |
| ├─ name     | string    | 必须     |        | 频道名称 |                   |

## 获取短信验证码



### 基本信息

**Path：** /app/v1_0/sms/codes/:mobile

**Method：** GET

**接口描述：**

#### 1 线上接口路径

<http://ttapi.research.itcast.cn/app/v1_0/sms/codes/:mobile>

#### 2 接口访问次数受限

```
每手机号每分钟1次
```



#### 3 返回HTTP状态码

1. 200 OK
2. 404 手机号不正确
3. 429 接口访问次数受限 ， body数据返回

```json
{
   "message": "Too many requests."
}
```



1. 507 服务器数据库异常

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**路径参数**

| 参数名称 | 示例        | 备注   |
| -------- | ----------- | ------ |
| mobile   | 18612345678 | 手机号 |

### 返回数据

| 名称      | 类型   | 是否必须 | 默认值 | 备注        | 其他信息 |
| --------- | ------ | -------- | ------ | ----------- | -------- |
| data      | object | 非必须   |        | 数据        |          |
| ├─ mobile | string | 必须     |        | 手机号      |          |
| message   | string | 必须     | OK     | 提示信息 ok | 枚举: OK |

## 设置用户频道列表（增量式）



### 基本信息

**Path：** /app/v1_0/user/channels

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/channels
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 409 已存在用户关注的频道，冲突
- 507 数据库错误
- **201 OK**

### 3 本接口仅保存数据，不会覆盖用户原有已关注的频道，遇到已经保存过的数据会返回409，可作为用户初次设置频道或新增频道使用

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注          |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/json | 是       |                                                              |               |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户令牌token |

**Body**

| 名称     | 类型      | 是否必须 | 默认值 | 备注               | 其他信息          |
| -------- | --------- | -------- | ------ | ------------------ | ----------------- |
| channels | object [] | 必须     |        | 用户关注的频道列表 | item 类型: object |
| ├─ id    | integer   | 必须     |        | 频道id             |                   |
| ├─ seq   | integer   | 必须     |        | 顺序序号           |                   |

### 返回数据

| 名称        | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| ----------- | --------- | -------- | ------ | -------- | ----------------- |
| message     | string    | 必须     |        | 提示信息 |                   |
| data        | object    | 非必须   |        |          |                   |
| ├─ channels | object [] | 必须     |        |          | item 类型: object |
| ├─ id       | integer   | 必须     |        | 频道id   |                   |
| ├─ seq      | integer   | 必须     |        | 顺序序号 |                   |

# 新闻



## 添加评论或评论回复



### 基本信息

**Path：** /app/v1_0/comments

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/comments
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 403 文章已关闭评论
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Body**

| 名称    | 类型    | 是否必须 | 默认值 | 备注                                                         | 其他信息 |
| ------- | ------- | -------- | ------ | ------------------------------------------------------------ | -------- |
| target  | integer | 必须     |        | 评论的目标id（评论文章即为文章id，对评论进行回复则为评论id） |          |
| content | string  | 必须     |        | 评论内容                                                     |          |
| art_id  | integer | 非必须   |        | 文章id，对评论内容发表回复时，需要传递此参数，表明所属文章id。对文章进行评论，不要传此参数。 |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注             | 其他信息 |
| --------- | ------- | -------- | ------ | ---------------- | -------- |
| message   | string  | 必须     |        | 提示信息         |          |
| data      | object  | 非必须   |        |                  |          |
| ├─ com_id | integer | 必须     |        | 新建的评论id     |          |
| ├─ target | integer | 必须     |        | 评论所属的目标id |          |
| ├─ art_id | integer | 必须     |        | 评论所属的文章id |          |

## 举报文章



### 基本信息

**Path：** /app/v1_0/article/reports

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/reports
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 409 此用户已举报过该文章（冲突）
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注                                                         | 其他信息 |
| ------ | ------- | -------- | ------ | ------------------------------------------------------------ | -------- |
| target | integer | 必须     |        | 举报的文章id                                                 |          |
| type   | integer | 必须     |        | 举报类型： 0-其他问题，1-标题夸张，2-低俗色情，3-错别字多，4-旧闻重复，5-广告软文，6-内容不实，7-涉嫌违法犯罪，8-侵权' |          |
| remark | string  | 非必须   |        | 其他问题 的附加说明                                          |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注         | 其他信息 |
| --------- | ------- | -------- | ------ | ------------ | -------- |
| message   | string  | 必须     |        | 提示信息     |          |
| data      | object  | 非必须   |        |              |          |
| ├─ target | integer | 必须     |        | 举报的文章id |          |
| ├─ type   | integer | 必须     |        | 举报类型     |          |

## 取消对文章不喜欢



### 基本信息

**Path：** /app/v1_0/article/dislikes/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/dislikes/:target
```



### 2 返回状态码

- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**
- 401 用户未认证
- 404 访问路径错误
- 507 数据库异常

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户身份token |

**路径参数**

| 参数名称 | 示例 | 备注   |
| -------- | ---- | ------ |
| target   |      | 文章id |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 取消对文章点赞



### 基本信息

**Path：** /app/v1_0/article/likings/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/likings/:target
```



### 2 返回状态码

- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**
- 401 用户未认证
- 404 访问路径错误
- 507 数据库异常

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户身份token |

**路径参数**

| 参数名称 | 示例 | 备注   |
| -------- | ---- | ------ |
| target   |      | 文章id |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 取消对评论或评论回复点赞



### 基本信息

**Path：** /app/v1_0/comment/likings/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/comment/likings/:target
```



### 2 返回状态码

- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**
- 401 用户未认证
- 404 访问路径错误
- 507 数据库异常

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户身份token |

**路径参数**

| 参数名称 | 示例 | 备注                           |
| -------- | ---- | ------------------------------ |
| target   |      | 要取消点赞的评论id或评论回复id |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 取消收藏文章



### 基本信息

**Path：** /app/v1_0/article/collections/:target

**Method：** DELETE

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/collections/:target
```



### 2 返回状态码

- **204 取消成功，注意这是本接口成功调用的返回状态码，body没有数据（没有默认的message）**
- 401 用户未认证
- 404 访问路径错误
- 507 数据库异常

### 请求参数

**Headers**

| 参数名称      | 参数值                            | 是否必须 | 示例                                                         | 备注          |
| ------------- | --------------------------------- | -------- | ------------------------------------------------------------ | ------------- |
| Content-Type  | application/x-www-form-urlencoded | 是       |                                                              |               |
| Authorization |                                   | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户身份token |

**路径参数**

| 参数名称 | 示例 | 备注 |
| -------- | ---- | ---- |
| target   |      |      |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 非必须   |        | 提示信息 |          |

## 对文章不喜欢



### 基本信息

**Path：** /app/v1_0/article/dislikes

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/dislikes
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| ------ | ------- | -------- | ------ | -------------- | -------- |
| target | integer | 必须     |        | 不喜欢的文章id |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注           | 其他信息 |
| --------- | ------- | -------- | ------ | -------------- | -------- |
| message   | string  | 必须     |        | 提示信息       |          |
| data      | object  | 非必须   |        |                |          |
| ├─ target | integer | 非必须   |        | 不喜欢的文章id |          |

## 对文章点赞



### 基本信息

**Path：** /app/v1_0/article/likings

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/likings
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注         | 其他信息 |
| ------ | ------- | -------- | ------ | ------------ | -------- |
| target | integer | 必须     |        | 点赞的文章id |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注         | 其他信息 |
| --------- | ------- | -------- | ------ | ------------ | -------- |
| message   | string  | 必须     |        | 提示信息     |          |
| data      | object  | 非必须   |        |              |          |
| ├─ target | integer | 非必须   |        | 点赞的文章id |          |

## 对评论或评论回复点赞



### 基本信息

**Path：** /app/v1_0/comment/likings

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/comment/likings
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注         | 其他信息 |
| ------ | ------- | -------- | ------ | ------------ | -------- |
| target | integer | 必须     |        | 点赞的评论id |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注         | 其他信息 |
| --------- | ------- | -------- | ------ | ------------ | -------- |
| message   | string  | 必须     |        | 提示信息     |          |
| data      | object  | 非必须   |        |              |          |
| ├─ target | integer | 非必须   |        | 点赞的评论id |          |

## 收藏文章



### 基本信息

**Path：** /app/v1_0/article/collections

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/collections
```



### 2 返回状态码

- 400 请求参数错误
- 401 用户未认证
- 507 数据库错误
- **201 OK**

### 3 在请求头Trace 中传递collect埋点参数

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注            |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------------- |
| Content-Type  | application/json | 是       |                                                              |                 |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户身份token   |
| Trace         |                  | 是       |                                                              | collect埋点参数 |

**Body**

| 名称   | 类型    | 是否必须 | 默认值 | 备注             | 其他信息 |
| ------ | ------- | -------- | ------ | ---------------- | -------- |
| target | integer | 必须     |        | 收藏的目标文章id |          |

### 返回数据

| 名称      | 类型    | 是否必须 | 默认值 | 备注         | 其他信息 |
| --------- | ------- | -------- | ------ | ------------ | -------- |
| message   | string  | 必须     |        | 提示信息     |          |
| data      | object  | 非必须   |        |              |          |
| ├─ target | integer | 必须     |        | 收藏的文章id |          |

## 全部频道列表



### 基本信息

**Path：** /app/v1_0/channels

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/channels
```



### 2 返回状态码

- 507 数据库错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

### 返回数据

| 名称        | 类型      | 是否必须 | 默认值 | 备注     | 其他信息          |
| ----------- | --------- | -------- | ------ | -------- | ----------------- |
| message     | string    | 必须     |        | 提示信息 |                   |
| data        | object    | 必须     |        |          |                   |
| ├─ channels | object [] | 必须     |        |          | item 类型: object |
| ├─ id       | integer   | 必须     |        | 频道id   |                   |
| ├─ name     | string    | 必须     |        | 频道名称 |                   |

## 获取当前用户文章列表



### 基本信息

**Path：** /app/v1_0/user/articles

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/articles
```



### 2 返回状态码

- 507 数据库错误
- 401 用户未认证
- 400 请求参数错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                             |
| -------- | -------- | ---- | -------------------------------- |
| page     | 否       |      | 页数，不传默认为1                |
| per_page | 否       |      | 每页数量，不传每页数量由后端决定 |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ---------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message          | string    | 必须     |        | 提示信息                                     |                   |
| data             | object    | 非必须   |        |                                              |                   |
| ├─ page          | integer   | 必须     |        | 当前页数                                     |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量                                     |                   |
| ├─ results       | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id        | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title         | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id        | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name      | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count    | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate       | string    | 必须     |        | 发布时间                                     |                   |
| ├─ cover         | object    | 必须     |        | 封面                                         |                   |
| ├─ type          | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images        | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ like_count    | integer   | 必须     |        | 点赞数                                       |                   |
| ├─ collect_count | integer   | 必须     |        | 收藏数                                       |                   |
| ├─ total_count   | integer   | 必须     |        | 文章总数                                     |                   |

## 获取新闻文章详情



### 基本信息

**Path：** /app/v1_0/articles/:article_id

**Method：** GET

**接口描述：**

#### 1. 说明

本接口不包含文章评论，文章评论在另外的接口。

#### 2. 线上地址

<http://ttapi.research.itcast.cn/app/v1_0/articles/:article_id>
如http://ttapi.research.itcast.cn/app/v1_0/articles/1

#### 3. 返回HTTP状态码说明

1. 200 OK
2. 404 文章不存在
3. 507 服务器数据库异常

#### 4. 在Trace 请求头中传递click埋点参数

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注                            |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------------------------- |
| Content-Type  | application/json | 是       |                                                              |                                 |
| Authorization | jwt token        | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户身份token，匿名用户无需携带 |
| Trace         |                  | 是       |                                                              | click的埋点参数                 |

**路径参数**

| 参数名称   | 示例 | 备注   |
| ---------- | ---- | ------ |
| article_id |      | 文章id |

### 返回数据

| 名称            | 类型      | 是否必须 | 默认值 | 备注                                           | 其他信息          |
| --------------- | --------- | -------- | ------ | ---------------------------------------------- | ----------------- |
| message         | string    | 必须     |        | 提示信息 OK                                    |                   |
| data            | object    | 非必须   |        | 数据                                           |                   |
| ├─ art_id       | integer   | 必须     |        | 文章ID                                         |                   |
| ├─ title        | string    | 必须     |        | 文章标题                                       |                   |
| ├─ pubdate      | string    | 必须     |        | 发布日期                                       |                   |
| ├─ aut_id       | integer   | 必须     |        | 作者id                                         |                   |
| ├─ aut_name     | string    | 必须     |        | 作者名                                         |                   |
| ├─ aut_photo    | string    | 必须     |        | 作者头像url 无图片，默认为null                 |                   |
| ├─ is_followed  | boolean   | 必须     |        | 是否关注了作者                                 |                   |
| ├─ attitude     | integer   | 必须     |        | 用户对文章的态度, -1: 无态度，0-不喜欢，1-点赞 |                   |
| ├─ content      | string    | 必须     |        | 文章内容                                       |                   |
| ├─ recomments   | object [] | 必须     |        | 相关文章推荐，无推荐为空数组                   | item 类型: object |
| ├─ art_id       | integer   | 必须     |        | 文章id                                         |                   |
| ├─ title        | string    | 必须     |        | 文章标题                                       |                   |
| ├─ tracking     | string    | 必须     |        | 埋点参数                                       |                   |
| ├─ is_collected | boolean   | 必须     |        | 是否收藏了文章                                 |                   |

## 获取用户收藏列表



### 基本信息

**Path：** /app/v1_0/article/collections

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/article/collections
```



### 2 返回状态码

- 507 数据库错误
- 401 用户未认证
- 400 请求参数错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                             |
| -------- | -------- | ---- | -------------------------------- |
| page     | 否       |      | 页数，不传默认为1                |
| per_page | 否       |      | 每页数量，不传每页数量由后端决定 |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ---------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message          | string    | 必须     |        | 提示信息                                     |                   |
| data             | object    | 非必须   |        |                                              |                   |
| ├─ page          | integer   | 必须     |        | 当前页数                                     |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量                                     |                   |
| ├─ results       | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id        | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title         | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id        | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name      | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count    | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate       | string    | 必须     |        | 发布时间                                     |                   |
| ├─ cover         | object    | 必须     |        | 封面                                         |                   |
| ├─ type          | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images        | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ like_count    | integer   | 必须     |        | 点赞数                                       |                   |
| ├─ collect_count | integer   | 必须     |        | 收藏数                                       |                   |
| ├─ is_liking     | boolean   | 必须     |        | 是否对文章点赞                               |                   |
| ├─ total_count   | integer   | 必须     |        | 文章总数                                     |                   |

## 获取用户文章列表



### 基本信息

**Path：** /app/v1_0/users/:user_id/articles

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/users/:user_id/articles
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**路径参数**

| 参数名称 | 示例 | 备注   |
| -------- | ---- | ------ |
| user_id  |      | 用户id |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                             |
| -------- | -------- | ---- | -------------------------------- |
| page     | 否       |      | 页数，不传默认为1                |
| per_page | 否       |      | 每页数量，不传每页数量由后端决定 |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ---------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message          | string    | 必须     |        | 提示信息                                     |                   |
| data             | object    | 非必须   |        |                                              |                   |
| ├─ page          | integer   | 必须     |        | 当前页数                                     |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量                                     |                   |
| ├─ results       | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id        | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title         | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id        | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name      | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count    | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate       | string    | 必须     |        | 发布时间                                     |                   |
| ├─ cover         | object    | 必须     |        | 封面                                         |                   |
| ├─ type          | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images        | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ like_count    | integer   | 必须     |        | 点赞数                                       |                   |
| ├─ collect_count | integer   | 必须     |        | 收藏数                                       |                   |
| ├─ is_liking     | boolean   | 必须     |        | 是否点赞                                     |                   |
| ├─ total_count   | integer   | 必须     |        | 文章总数                                     |                   |

## 获取用户阅读历史



### 基本信息

**Path：** /app/v1_0/user/histories

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/user/histories
```



### 2 返回状态码

- 507 数据库错误
- 401 用户未认证
- 400 请求参数错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注      |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | --------- |
| Content-Type  | application/json | 是       |                                                              |           |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU | 用户token |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                             |
| -------- | -------- | ---- | -------------------------------- |
| page     | 否       |      | 页数，不传默认为1                |
| per_page | 否       |      | 每页数量，不传每页数量由后端决定 |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ---------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message          | string    | 必须     |        | 提示信息                                     |                   |
| data             | object    | 非必须   |        |                                              |                   |
| ├─ page          | integer   | 必须     |        | 当前页数                                     |                   |
| ├─ per_page      | integer   | 必须     |        | 每页数量                                     |                   |
| ├─ results       | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id        | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title         | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id        | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name      | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count    | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate       | string    | 必须     |        | 发布时间                                     |                   |
| ├─ cover         | object    | 必须     |        | 封面                                         |                   |
| ├─ type          | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images        | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ like_count    | integer   | 必须     |        | 点赞数                                       |                   |
| ├─ collect_count | integer   | 必须     |        | 收藏数                                       |                   |
| ├─ is_liking     | boolean   | 必须     |        | 是否对文章点赞                               |                   |
| ├─ total_count   | integer   | 必须     |        | 文章总数                                     |                   |

## 获取评论或评论回复



### 基本信息

**Path：** /app/v1_0/comments

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/comments
```



### 2 返回状态码

- 400 请求参数错误
- 507 数据库错误
- **200 OK**

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注 |
| ------------ | ---------------- | -------- | ---- | ---- |
| Content-Type | application/json | 是       |      |      |

**Query**

| 参数名称 | 是否必须 | 示例 | 备注                                                         |
| -------- | -------- | ---- | ------------------------------------------------------------ |
| type     | 是       | a或c | 评论类型，a-对文章(article)的评论，c-对评论(comment)的回复   |
| source   | 是       |      | 源id，文章id或评论id                                         |
| offset   | 否       |      | 获取评论数据的偏移量，值为评论id，表示从此id的数据向后取，不传表示从第一页开始读取数据 |
| limit    | 否       |      | 获取的评论数据个数，不传表示采用后端服务设定的默认每页数据量 |

**Body**

| 名称    | 类型    | 是否必须 | 默认值 | 备注                                                         | 其他信息 |
| ------- | ------- | -------- | ------ | ------------------------------------------------------------ | -------- |
| target  | integer | 必须     |        | 评论的目标id（评论文章即为文章id，对评论进行回复则为评论id） |          |
| content | string  | 必须     |        | 评论内容                                                     |          |
| aid     | integer | 非必须   |        | 文章id，对评论内容发表回复时，需要传递此参数，表明所属文章id。对文章进行评论，不要传此参数。 |          |

### 返回数据

| 名称           | 类型      | 是否必须 | 默认值 | 备注                                                         | 其他信息          |
| -------------- | --------- | -------- | ------ | ------------------------------------------------------------ | ----------------- |
| message        | string    | 必须     |        | 提示信息                                                     |                   |
| data           | object    | 非必须   |        |                                                              |                   |
| ├─ total_count | integer   | 必须     |        | 该文章的评论总数 或 该评论的回复总数                         |                   |
| ├─ end_id      | integer   | 必须     |        | 所有评论或回复的最后一个id（截止offset值，小于此值的offset可以不用发送请求获取评论数据，已经没有数据），若无评论或回复数据，则值为NULL |                   |
| ├─ last_id     | integer   | 必须     |        | 本次返回结果的最后一个评论id，作为请求下一页数据的offset参数，若本次无具体数据，则值为NULL |                   |
| ├─ results     | object [] | 必须     |        | 评论或回复的内容                                             | item 类型: object |
| ├─ com_id      | integer   | 必须     |        | 评论或回复id                                                 |                   |
| ├─ aut_id      | integer   | 必须     |        | 评论或回复的用户id                                           |                   |
| ├─ aut_name    | string    | 必须     |        | 用户名称                                                     |                   |
| ├─ aut_photo   | string    | 必须     |        | 用户头像url                                                  |                   |
| ├─ like_count  | integer   | 必须     |        | 点赞数量                                                     |                   |
| ├─ reply_count | integer   | 必须     |        | 回复数量                                                     |                   |
| ├─ pubdate     | string    | 必须     |        | 创建时间                                                     |                   |
| ├─ content     | string    | 必须     |        | 评论或回复内容                                               |                   |
| ├─ is_top      | integer   | 必须     |        | 是否置顶，0-不置顶，1-置顶                                   |                   |
| ├─ is_liking   | boolean   | 必须     |        | 当前用户是否点赞                                             |                   |

## 阅读时长埋点反馈



### 基本信息

**Path：** /app/v1_0/reading/durations

**Method：** POST

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/reading/durations
```



### 2 返回状态码

- 400 请求参数错误
- **201 OK**

### 3 在请求头Trace 中传递read埋点参数

### 请求参数

**Headers**

| 参数名称     | 参数值           | 是否必须 | 示例 | 备注         |
| ------------ | ---------------- | -------- | ---- | ------------ |
| Content-Type | application/json | 是       |      |              |
| Trace        |                  | 是       |      | read埋点参数 |

**Body**

| 名称     | 类型    | 是否必须 | 默认值 | 备注          | 其他信息 |
| -------- | ------- | -------- | ------ | ------------- | -------- |
| duration | integer | 必须     |        | 阅读时长 秒数 |          |
| art_id   | integer | 必须     |        | 文章id        |          |

### 返回数据

| 名称    | 类型   | 是否必须 | 默认值 | 备注     | 其他信息 |
| ------- | ------ | -------- | ------ | -------- | -------- |
| message | string | 必须     |        | 提示信息 |          |

## 频道新闻推荐_V1.0



### 基本信息

**Path：** /app/v1_0/articles

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_0/articles
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数错误
- **200 OK**

### 3 增加了埋点参数

### 4 Authorization 请求头说明

##### 1） Bearer 开头为已认证用户的token

##### 2） Anony 开头为匿名用户的手机识别码

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注 |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ---- |
| Content-Type  | application/json | 是       |                                                              |      |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU |      |

或者
Anony xxxxxxxxxxxxxxxxxxxx | 用户身份token 或 匿名用户手机识别码 |
**Query**

| 参数名称   | 是否必须 | 示例 | 备注                             |
| ---------- | -------- | ---- | -------------------------------- |
| channel_id | 是       |      | 频道ID                           |
| page       | 否       |      | 页数，不传默认为1                |
| per_page   | 否       |      | 每页数量，不传每页数量由后端决定 |

### 返回数据

| 名称          | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message       | string    | 必须     |        | 提示信息                                     |                   |
| data          | object    | 非必须   |        |                                              |                   |
| ├─ page       | integer   | 必须     |        | 当前页数                                     |                   |
| ├─ per_page   | integer   | 必须     |        | 每页数量                                     |                   |
| ├─ results    | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id     | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title      | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id     | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name   | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate    | string    | 必须     |        | 发布时间                                     |                   |
| ├─ is_top     | integer   | 必须     |        | 是否置顶，0-不置顶，1-置顶                   |                   |
| ├─ cover      | object    | 必须     |        | 封面                                         |                   |
| ├─ type       | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images     | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ trace      | object    | 非必须   |        | 埋点参数                                     |                   |
| ├─ click      | string    | 必须     |        | 点击文章，进入文章详情页时反馈               |                   |
| ├─ collect    | string    | 必须     |        | 用户点击收藏文章时反馈                       |                   |
| ├─ share      | string    | 必须     |        | 用户分享时反馈                               |                   |
| ├─ read       | string    | 必须     |        | 用户的阅读时长，退出详情页时反馈             |                   |

## 频道新闻推荐_V1.1



### 基本信息

**Path：** /app/v1_1/articles

**Method：** GET

**接口描述：**

### 1 线上地址

```url
http://ttapi.research.itcast.cn/app/v1_1/articles
```



### 2 返回状态码

- 507 数据库错误
- 400 请求参数错误
- **200 OK**

### 3 增加了埋点参数

### 4 Authorization 请求头说明

##### 1） Bearer 开头为已认证用户的token

##### 2） Anony 开头为匿名用户的手机识别码

### 请求参数

**Headers**

| 参数名称      | 参数值           | 是否必须 | 示例                                                         | 备注 |
| ------------- | ---------------- | -------- | ------------------------------------------------------------ | ---- |
| Content-Type  | application/json | 是       |                                                              |      |
| Authorization |                  | 是       | Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NDMyODQzNjYsInVzZXJfaWQiOjF9.mLYitrKsn4E4KdQd0CNPugKrH8uQmXEQTlG_JutC8jU |      |

或者
Anony xxxxxxxxxxxxxxxxxxxx | 用户身份token 或 匿名用户手机识别码 |
**Query**

| 参数名称   | 是否必须 | 示例                | 备注                                                         |
| ---------- | -------- | ------------------- | ------------------------------------------------------------ |
| channel_id | 是       |                     | 频道ID                                                       |
| timestamp  | 是       | 时间戳整数 单位毫秒 | 时间戳，请求新的推荐数据传当前的时间戳，请求历史推荐传指定的时间戳 |
| with_top   | 是       | 0或1                | 是否包含置顶，进入页面第一次请求时要包含置顶文章，1-包含置顶，0-不包含 |

### 返回数据

| 名称             | 类型      | 是否必须 | 默认值 | 备注                                         | 其他信息          |
| ---------------- | --------- | -------- | ------ | -------------------------------------------- | ----------------- |
| message          | string    | 必须     |        | 提示信息                                     |                   |
| data             | object    | 非必须   |        |                                              |                   |
| ├─ pre_timestamp | integer   | 必须     |        | 请求前一页历史数据的时间戳                   |                   |
| ├─ results       | object [] | 必须     |        |                                              | item 类型: object |
| ├─ art_id        | integer   | 必须     |        | 文章id                                       |                   |
| ├─ title         | string    | 必须     |        | 文章标题                                     |                   |
| ├─ aut_id        | integer   | 必须     |        | 作者id                                       |                   |
| ├─ aut_name      | string    | 必须     |        | 作者名称                                     |                   |
| ├─ comm_count    | integer   | 必须     |        | 评论数量                                     |                   |
| ├─ pubdate       | string    | 必须     |        | 发布时间                                     |                   |
| ├─ is_top        | integer   | 必须     |        | 是否置顶，0-不置顶，1-置顶                   |                   |
| ├─ cover         | object    | 必须     |        | 封面                                         |                   |
| ├─ type          | integer   | 必须     |        | 封面类型，0-无封面，1-1张封面图片，3-3张封面 |                   |
| ├─ images        | string [] | 必须     |        | 封面图片                                     | item 类型: string |
| ├─ trace         | object    | 非必须   |        | 埋点参数                                     |                   |
| ├─ click         | string    | 必须     |        | 点击文章，进入文章详情页时反馈               |                   |
| ├─ collect       | string    | 必须     |        | 用户点击收藏文章时反馈                       |                   |
| ├─ share         | string    | 必须     |        | 用户分享时反馈                               |                   |
| ├─ read          | string    | 必须     |        | 用户的阅读时长，退出详情页时反馈             |                   |

Build by [YMFE](https://ymfe.org/).